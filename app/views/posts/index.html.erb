<p style="color: green"><%= notice %></p>

<h1 class="text-center mb-4">All Posts</h1>

<%= form_tag posts_path, method: :get, role: 'search' do %>
  <%= text_field_tag :q, params[:q], placeholder: 'Search Posts ...' %>
  <%= submit_tag 'Search' %>
<% end %>
<div id="posts">

<% @posts.each do |post| %>
  <div class="container mb-4 mt-4">
    <div class="card mb-4">
      <div class="card-body">
        <h5 class="card-title"><%= post.title %></h5>
        <p class="card-text"><%= post.description %></p>
        <p class="card-text"><strong>Salary:</strong> <%= post.salary %></p>
        <p class="card-text"><strong>Location:</strong> <%= post.location %></p>
        <%= link_to 'See Post', post_path(post.id), class: 'btn btn-primary' %>
        <% if can? :read, JobApplication %>
          <%= link_to 'See Jobs', post_job_applications_path(post.id), class: 'btn btn-info' %>
        <% end %>
      </div>
    </div>
  </div>
<% end %>

<div class="container">
  <% if can? :create, Post %>
    <%= link_to 'Create a Post', new_post_path, class: 'btn btn-success btn-lg' %>
  <% end %>

  <% if can? :create, Profile %>
    <%= link_to 'Create a Profile', new_profile_path, class: 'btn btn-info btn-lg' %>
  <% end %>
</div>
